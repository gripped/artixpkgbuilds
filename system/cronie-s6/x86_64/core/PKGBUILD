# Maintainer: Dudemanguy <dudemanguy@artixlinux.org>
pkgname=cronie-s6
pkgver=20210513
pkgrel=1
pkgdesc="s6-rc service scripts for cronie"
arch=('any')
url="https://gitea.artixlinux.org/artix/s6-services"
groups=('s6-system')
provides=('init-cronie' 'init-cron')
conflicts=('init-cronie' 'init-cron')
depends=('cronie' 's6-base')
_commit=3cb52daad8645d2afb14e9cd026fc46c5e55fe87
_hook_commit=0bb100c62bbde2878a242cc72626d00462c921b5
makedepends=('git')
source=("git+https://gitea.artixlinux.org/artix/s6-services.git#commit=$_commit"
        "git+https://gitea.artixlinux.org/artix/alpm-hooks.git#commit=$_hook_commit")
sha256sums=('SKIP'
            'SKIP')

package() {
    cd "${srcdir}"/s6-services
    sh install.sh "cronie" "${pkgdir}"

    cd "${srcdir}"/alpm-hooks
    make DESTDIR="${pkgdir}" install_s6_cronie
}
