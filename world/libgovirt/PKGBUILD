# Maintainer: Frederik Schwan <freswa at archlinux dot org>
# Contributor: Balló György <ballogyor+arch at gmail dot com>
# Contributor: Jan de Groot <jgc@archlinux.org>

pkgname=libgovirt
epoch=2
pkgver=0.3.10
pkgrel=1
pkgdesc='GObject-based library to access oVirt REST API'
arch=(x86_64)
url='https://gitlab.gnome.org/GNOME/libgovirt'
license=(LGPL)
depends=(librest)
makedepends=(gobject-introspection meson glib2-devel)
source=("https://gitlab.gnome.org/GNOME/libgovirt/-/archive/v${pkgver}/libgovirt-v${pkgver}.tar.bz2")
b2sums=('ba69fecc88d7e47b797f8cda25eaf91d6519714bdf7d93ebea011a54529ebe596ef41a327a4b207f5cd16ce1eb5a746d98897303accbf55cabdf4945d05080db')

prepare() {
  cd ${pkgname}-v${pkgver}
}
  
build() {
  artix-meson ${pkgname}-v${pkgver} build
  meson compile -C build
}

#check() {
#  meson test -C build --print-errorlogs
#}

package() {
  meson install -C build --destdir "${pkgdir}"
}
