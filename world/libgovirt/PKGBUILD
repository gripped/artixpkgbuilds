# Maintainer: Frederik Schwan <freswa at archlinux dot org>
# Contributor: Balló György <ballogyor+arch at gmail dot com>
# Contributor: Jan de Groot <jgc@archlinux.org>

pkgname=libgovirt
epoch=2
pkgver=0.3.11
pkgrel=1
pkgdesc='GObject-based library to access oVirt REST API'
arch=(x86_64)
url='https://gitlab.gnome.org/GNOME/libgovirt'
license=(LGPL)
depends=(librest)
makedepends=(gobject-introspection meson glib2-devel)
source=("https://gitlab.gnome.org/GNOME/libgovirt/-/archive/v${pkgver}/libgovirt-v${pkgver}.tar.bz2")
b2sums=('7f2be3cfaa29bb56217e9b8e24d0aa8a3f43fb3f6c5f66cd1773b09238f0a8c7332ea4fc3c18dcc6827fc972ab35e435c4a1904836cb116533d927f509b5909b')

prepare() {
  cd ${pkgname}-v${pkgver}
}
  
build() {
  artix-meson ${pkgname}-v${pkgver} build
  meson compile -C build
}

#check() {
#  meson test -C build --print-errorlogs
#}

package() {
  meson install -C build --destdir "${pkgdir}"
}
