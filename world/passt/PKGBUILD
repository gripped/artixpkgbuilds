# Maintainer: David Runge <dvzrv@archlinux.org>
# Maintainer: Christian Heusel <christian@heusel.eu>

pkgname=passt
pkgver=2025_09_19.623dbf6
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('f15cda59db2114fc8d80300e0dd28afdef2e6e53d2b08dcc45672412a1a62322ee2bb7b044d220b1a7ab7374e05f17b120ae924e457bdadac98bdeb21ee2254f')
b2sums=('561c5d035a523fd1338c8ab67c839c13c45dfa10af0b7d0e48c7edc0fe916afc640b66ae906033da5f1c2ad8c7ecc6de553e64e26ecb8c314e4e3ad001eb68a9')

build() {
  make VERSION="$pkgver" -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}
