From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Jakub=20Klinkovsk=C3=BD?=
 <1289205+lahwaacz@users.noreply.github.com>
Date: Sat, 6 Sep 2025 18:42:09 +0200
Subject: [PATCH] Update tests to work with CUDA 13

---
 test cases/cuda/17 separate compilation linking/meson.build | 2 +-
 test cases/cuda/3 cudamodule/meson.build                    | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/test cases/cuda/17 separate compilation linking/meson.build b/test cases/cuda/17 separate compilation linking/meson.build
index 7ba7e220870d..a00e7299ed42 100644
--- a/test cases/cuda/17 separate compilation linking/meson.build	
+++ b/test cases/cuda/17 separate compilation linking/meson.build	
@@ -11,7 +11,7 @@ add_languages('cuda')
 nvcc = meson.get_compiler('cuda')
 cuda = import('unstable-cuda')
 
-arch_flags = cuda.nvcc_arch_flags(nvcc.version(), 'Common')
+arch_flags = cuda.nvcc_arch_flags(nvcc.version(), 'Turing')
 
 message('NVCC version:   ' + nvcc.version())
 message('NVCC flags:     ' + ' '.join(arch_flags))
diff --git a/test cases/cuda/3 cudamodule/meson.build b/test cases/cuda/3 cudamodule/meson.build
index 5c3ed60739bf..63e57eccb05f 100644
--- a/test cases/cuda/3 cudamodule/meson.build	
+++ b/test cases/cuda/3 cudamodule/meson.build	
@@ -3,8 +3,8 @@ project('cudamodule', 'cuda', version : '1.0.0')
 nvcc = meson.get_compiler('cuda')
 cuda = import('unstable-cuda')
 
-arch_flags     = cuda.nvcc_arch_flags(nvcc.version(), 'Auto', detected: ['6.0'])
-arch_readable  = cuda.nvcc_arch_readable(nvcc.version(), 'Auto', detected: ['6.0'])
+arch_flags     = cuda.nvcc_arch_flags(nvcc.version(), 'Auto', detected: ['8.0'])
+arch_readable  = cuda.nvcc_arch_readable(nvcc.version(), 'Auto', detected: ['8.0'])
 driver_version = cuda.min_driver_version(nvcc.version())
 
 message('NVCC version:   ' + nvcc.version())
