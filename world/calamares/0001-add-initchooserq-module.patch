From 443e7345ed32f4d0fbf7b2b7112da0cfa06a1193 Mon Sep 17 00:00:00 2001
From: artoo <artoo@artixlinux.org>
Date: Mon, 25 Dec 2023 23:30:36 +0100
Subject: [PATCH 1/1] add initchooserq module

---
 .../packagechooserq/initchooserq-qt6.qml      | 304 ++++++++++++++++++
 src/modules/packagechooserq/initchooserq.qml  | 304 ++++++++++++++++++
 .../packagechooserq/packagechooserq-qt6.qrc   |   2 +-
 .../packagechooserq/packagechooserq.qrc       |   2 +-
 4 files changed, 610 insertions(+), 2 deletions(-)
 create mode 100644 src/modules/packagechooserq/initchooserq-qt6.qml
 create mode 100644 src/modules/packagechooserq/initchooserq.qml

diff --git a/src/modules/packagechooserq/initchooserq-qt6.qml b/src/modules/packagechooserq/initchooserq-qt6.qml
new file mode 100644
index 000000000..d9646984a
--- /dev/null
+++ b/src/modules/packagechooserq/initchooserq-qt6.qml
@@ -0,0 +1,304 @@
+/* === This file is part of Calamares - <https://calamares.io> ===
+ *
+ *   SPDX-FileCopyrightText: 2021 Anke Boersma <demm@kaosx.us>
+ *   SPDX-License-Identifier: GPL-3.0-or-later
+ *
+ *   Calamares is Free Software: see the License-Identifier above.
+ *
+ */
+
+import io.calamares.core 1.0
+import io.calamares.ui 1.0
+
+import QtQuick
+import QtQuick.Controls
+import QtQuick.Layouts
+
+Item {
+    width:  parent.width
+    height: parent.height
+
+    Rectangle {
+        anchors.fill: parent
+        color: "#f2f2f2"
+
+        ButtonGroup {
+            id: switchGroup
+        }
+
+        Column {
+            id: column
+            anchors.centerIn: parent
+            spacing: 5
+
+            Rectangle {
+                //id: rectangle
+                width: 700
+                height: 150
+                color: "#ffffff"
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("OpenRC init system.<br/>
+                    Default option.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element1
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("OpenRC")
+                    checked: true
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element1.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element1.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element1.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element1.down ? "#cccccc" : "#ffffff"
+                            border.color: element1.checked ? (element1.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "openrc"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image1
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+            }
+
+            Rectangle {
+                width: 700
+                height: 150
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("Dinit init system.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element2
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("Dinit")
+                    checked: false
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element2.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element2.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element2.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element2.down ? "#cccccc" : "#ffffff"
+                            border.color: element2.checked ? (element2.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "dinit"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image2
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+
+            }
+
+            Rectangle {
+                width: 700
+                height: 150
+                color: "#ffffff"
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("Runit init system.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element3
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("Runit")
+                    checked: false
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element3.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element3.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element3.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element3.down ? "#cccccc" : "#ffffff"
+                            border.color: element3.checked ? (element3.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "runit"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image3
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+            }
+
+            Rectangle {
+                width: 700
+                height: 150
+                color: "#ffffff"
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("S6 init system.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element4
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("S6")
+                    checked: false
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element4.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element4.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element4.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element4.down ? "#cccccc" : "#ffffff"
+                            border.color: element4.checked ? (element4.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "s6"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image4
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+            }
+
+            Rectangle {
+                width: 700
+                height: 25
+                color: "#f2f2f2"
+                border.width: 0
+                Text {
+                    height: 25
+                    anchors.centerIn: parent
+                    text: qsTr("Please select an option for your install, or use the default: OpenRC.")
+                    font.pointSize: 10
+                    wrapMode: Text.WordWrap
+                }
+            }
+        }
+    }
+
+}
diff --git a/src/modules/packagechooserq/initchooserq.qml b/src/modules/packagechooserq/initchooserq.qml
new file mode 100644
index 000000000..7c46c8498
--- /dev/null
+++ b/src/modules/packagechooserq/initchooserq.qml
@@ -0,0 +1,304 @@
+/* === This file is part of Calamares - <https://calamares.io> ===
+ *
+ *   SPDX-FileCopyrightText: 2021 Anke Boersma <demm@kaosx.us>
+ *   SPDX-License-Identifier: GPL-3.0-or-later
+ *
+ *   Calamares is Free Software: see the License-Identifier above.
+ *
+ */
+
+import io.calamares.core 1.0
+import io.calamares.ui 1.0
+
+import QtQuick 2.15
+import QtQuick.Controls 2.15
+import QtQuick.Layouts 1.3
+
+Item {
+    width:  parent.width
+    height: parent.height
+
+    Rectangle {
+        anchors.fill: parent
+        color: "#f2f2f2"
+
+        ButtonGroup {
+            id: switchGroup
+        }
+
+        Column {
+            id: column
+            anchors.centerIn: parent
+            spacing: 5
+
+            Rectangle {
+                //id: rectangle
+                width: 700
+                height: 150
+                color: "#ffffff"
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("OpenRC init system.<br/>
+                    Default option.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element1
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("OpenRC")
+                    checked: true
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element1.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element1.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element1.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element1.down ? "#cccccc" : "#ffffff"
+                            border.color: element1.checked ? (element1.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "openrc"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image1
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+            }
+
+            Rectangle {
+                width: 700
+                height: 150
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("Dinit init system.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element2
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("Dinit")
+                    checked: false
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element2.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element2.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element2.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element2.down ? "#cccccc" : "#ffffff"
+                            border.color: element2.checked ? (element2.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "dinit"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image2
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+
+            }
+
+            Rectangle {
+                width: 700
+                height: 150
+                color: "#ffffff"
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("Runit init system.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element3
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("Runit")
+                    checked: false
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element3.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element3.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element3.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element3.down ? "#cccccc" : "#ffffff"
+                            border.color: element3.checked ? (element3.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "runit"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image3
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+            }
+
+            Rectangle {
+                width: 700
+                height: 150
+                color: "#ffffff"
+                radius: 10
+                border.width: 0
+                Text {
+                    width: 450
+                    height: 104
+                    anchors.centerIn: parent
+                    text: qsTr("S6 init system.")
+                    font.pointSize: 10
+                    anchors.verticalCenterOffset: -10
+                    anchors.horizontalCenterOffset: 100
+                    wrapMode: Text.WordWrap
+                }
+
+                Switch {
+                    id: element4
+                    x: 500
+                    y: 110
+                    width: 187
+                    height: 14
+                    text: qsTr("S6")
+                    checked: false
+                    hoverEnabled: true
+                    ButtonGroup.group: switchGroup
+
+                    indicator: Rectangle {
+                        implicitWidth: 40
+                        implicitHeight: 14
+                        radius: 10
+                        color: element4.checked ? "#3498db" : "#B9B9B9"
+                        border.color: element4.checked ? "#3498db" : "#cccccc"
+
+                        Rectangle {
+                            x: element4.checked ? parent.width - width : 0
+                            y: (parent.height - height) / 2
+                            width: 20
+                            height: 20
+                            radius: 10
+                            color: element4.down ? "#cccccc" : "#ffffff"
+                            border.color: element4.checked ? (element4.down ? "#3498db" : "#3498db") : "#999999"
+                        }
+                    }
+
+                    onCheckedChanged: {
+                        if ( checked ) {
+                            config.packageChoice = "s6"
+                        }
+                    }
+                }
+
+                Image {
+                    id: image4
+                    x: 8
+                    y: 25
+                    height: 100
+                    fillMode: Image.PreserveAspectFit
+                    source: "images/plasma.png"
+                }
+            }
+
+            Rectangle {
+                width: 700
+                height: 25
+                color: "#f2f2f2"
+                border.width: 0
+                Text {
+                    height: 25
+                    anchors.centerIn: parent
+                    text: qsTr("Please select an option for your install, or use the default: OpenRC.")
+                    font.pointSize: 10
+                    wrapMode: Text.WordWrap
+                }
+            }
+        }
+    }
+
+}
diff --git a/src/modules/packagechooserq/packagechooserq-qt6.qrc b/src/modules/packagechooserq/packagechooserq-qt6.qrc
index d243f9335..7b2e39d5e 100644
--- a/src/modules/packagechooserq/packagechooserq-qt6.qrc
+++ b/src/modules/packagechooserq/packagechooserq-qt6.qrc
@@ -1,6 +1,6 @@
 <RCC>
     <qresource>
-        <file alias="packagechooserq.qml">packagechooserq-qt6.qml</file>
+        <file alias="initchooserq.qml">initchooserq-qt6.qml</file>
         <file>images/libreoffice.jpg</file>
         <file>images/no-selection.png</file>
         <file>images/plasma.png</file>
diff --git a/src/modules/packagechooserq/packagechooserq.qrc b/src/modules/packagechooserq/packagechooserq.qrc
index 1b892dce1..4a0e358d2 100644
--- a/src/modules/packagechooserq/packagechooserq.qrc
+++ b/src/modules/packagechooserq/packagechooserq.qrc
@@ -1,6 +1,6 @@
 <RCC>
     <qresource>
-        <file>packagechooserq.qml</file>
+        <file>initchooserq.qml</file>
         <file>images/libreoffice.jpg</file>
         <file>images/no-selection.png</file>
         <file>images/plasma.png</file>
-- 
2.43.0

