# Maintainer:

pkgname=python-pytest-console-scripts
_pyname=pytest-console-scripts
pkgver=1.4.0
pkgrel=1
pkgdesc='Pytest plugin for testing console scripts'
arch=(any)
license=(MIT)
url='https://github.com/kvas-it/pytest-console-scripts'
depends=(python-pytest)
makedepends=(python-build python-installer python-setuptools-scm python-wheel)
source=(https://pypi.python.org/packages/source/p/$_pyname/$_pyname-$pkgver.tar.gz)
sha512sums=('ccfc9032a05934fb12b5f29052f5335fc37c90f5bbbc2a31b0bd422c3a04a1cc23fbc23fb3537415905ac1dba9d6ea916e2ae0b659330189f0184a8e70f4eff1')

build() {
  cd $_pyname-$pkgver
  python -m build --wheel --no-isolation
}

package() {
  cd $_pyname-$pkgver
  python -m installer --destdir="$pkgdir" dist/*.whl
  install -D -m644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}
