# Maintainer: Cory Sanin <corysanin@artixlinux.org>
# Contributor: Christian Hesse <mail@eworm.de>
# Contributor: Robin Candau <antiz@archlinux.org>

pkgname=xfce4-screensaver
pkgver=4.20.1
pkgrel=1
pkgdesc='Xfce Screensaver'
arch=('x86_64')
url='https://docs.xfce.org/apps/screensaver/start'
license=('LGPL-2.1-only')
groups=('xfce4-goodies')
depends=('libxss' 'libxklavier' 'libwnck3' 'garcon' 'dbus-glib' 'python' 'python-gobject')
makedepends=('git' 'glib2-devel' 'meson' 'ninja' 'xfce4-dev-tools' 'xmlto')
backup=('etc/pam.d/xfce4-screensaver')
source=("git+https://gitlab.xfce.org/apps/xfce4-screensaver.git#tag=$pkgname-$pkgver")
sha256sums=('6ea43a5f1a8f0183bbcdc6819bd5457ea7315621b1edc715cbe55f25b3e7103b')

build() {
  artix-meson -Dsession-manager=elogind "${pkgname}" build
  meson compile -C build
}

package() {
  meson install -C build --destdir "${pkgdir}"
}
