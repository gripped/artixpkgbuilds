# Maintainer: Cory Sanin <corysanin@artixlinux.org>
# Contributor: Christian Hesse <mail@eworm.de>
# Contributor: David Phillips <dbphillipsnz at _remove this part if you want_ gmail dot com>

pkgname=abduco
pkgver=0.6
pkgrel=8
pkgdesc='Tool for session {at,de}tach support which allows a process to run independently from its controlling terminal'
url='http://www.brain-dump.org/projects/abduco/'
arch=('x86_64')
depends=('glibc')
makedepends=('git')
license=('custom:ISC')
source=("git+https://github.com/martanne/abduco.git#tag=v${pkgver}"
        'config.h')
sha512sums=('356fa52271237d04d77e736195313403ae3f7adf72684c6b91e973368300bb1ff36579e594a13648543a820ac9d9ceea43048cccdce5f66243e7e8e5ea5d9a8e'
            '2860d87984ae1dcfec98112e128a6e481b2a8a87ffc11131d14c2b5937a15f2a09896c2f62bfc802e7d0befa82e111a883c09958db9f544ec2532458d92cd5f4')

prepare () {
	cd "${srcdir}/${pkgname}"

	cp "${srcdir}/config.h" .
}

build () {
	cd "${srcdir}/${pkgname}"

	make all
}

package () {
	cd "${srcdir}/${pkgname}"

	make PREFIX='/usr' DESTDIR="${pkgdir}" install
	install -D -m0644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
