# Maintainer: Johannes LÃ¶thberg <johannes@kyriasis.com>
# Maintainer: Robin Candau <antiz@archlinux.org>
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: karnath <karnathtorjian@gmail.com>

pkgname=zathura-ps
pkgver=2026.02.03
pkgrel=1
pkgdesc="Adds ps support to zathura by using the libspectre library"
url="https://pwmt.org/projects/zathura-ps"
arch=('x86_64')
license=('Zlib')
depends=('libspectre' 'zathura' 'desktop-file-utils')
makedepends=('meson' 'ninja' 'appstream' 'appstream-glib')
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/pwmt/${pkgname}/archive/refs/tags/${pkgver}.tar.gz")
sha512sums=('38be5cce09a6d7dd008c12dc0f2dcf053d55b23792148add94d616b61b0e4ad2e2f395203a9391c6c7e0d46ddf4f9a62d106d917d5444e709cc963b511e78a95')

build() {
        cd "${pkgname}-${pkgver}"
        artix-meson build
        ninja -C build
}

package() {
        cd "${pkgname}-${pkgver}"
        DESTDIR="${pkgdir}" ninja -C build install
        install -Dm 664 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
